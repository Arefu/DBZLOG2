;
;
;   This code was extracted from 0x03000000 during decompression of compressed blocks.
;   It seems to pop each char from the compressed block.
;
;

push    r4-r11,r14
mov     r5,8h     
mov     r10,0h    
mov     r12,1h    
b       Lxx_3000024h
mov     r8,r3     
bl      Lxx_300024Ch
add     r7,r7,r4  
strb    r7,[r0],1h
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcs     Lxx_3000014h
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcs     Lxx_300013Ch
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcc     Lxx_30000F0h
mov     r8,4h     
bl      Lxx_300024Ch
subs    r7,r7,1h  
beq     Lxx_3000020h
bpl     Lxx_30000E8h
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcc     Lxx_30000B8h
mov     r9,100h   
mov     r8,8h     
bl      Lxx_300024Ch
strb    r7,[r0],1h
subs    r9,r9,1h  
bne     Lxx_300008Ch
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcs     Lxx_3000088h
b       Lxx_3000024h
mov     r4,0h     
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
adc     r3,r4,7h  
cmp     r3,8h     
beq     Lxx_3000024h
mov     r8,8h     
bl      Lxx_300024Ch
mov     r4,r7     
b       Lxx_3000024h
ldrb    r7,[r0,-r7] 
b       Lxx_3000020h
mov     r8,7h     
bl      Lxx_300024Ch
cmp     r7,0h     
beq     Lxx_300011Ch
mov     r12,r7    
mov     r8,2h     
bl      Lxx_300024Ch
add     r9,r7,2h  
cmp     r12,1h    
bne     Lxx_3000224h
b       Lxx_3000238h
mov     r8,2h     
bl      Lxx_300024Ch
cmp     r7,0h     
beq     Lxx_3000294h
add     r8,r7,3h  
bl      Lxx_300024Ch
mov     r5,r7     
b       Lxx_3000024h
mov     r9,1h     
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
adc     r9,r9,r9  
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcs     Lxx_3000140h
cmp     r9,2h     
bne     Lxx_30001A8h
mov     r9,1h     
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
adc     r9,r9,r9  
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcs     Lxx_3000174h
cmp     r12,1h    
bne     Lxx_3000224h
b       Lxx_3000238h
sub     r9,r9,3h  
mov     r8,r5     
bl      Lxx_300024Ch
add     r12,r7,r9,lsl r5    
mov     r9,1h     
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
adc     r9,r9,r9  
subs    r10,r10,1h
ldrmi   r6,[r1],4h
movmi   r10,1Fh   
adds    r6,r6,r6  
bcs     Lxx_30001BCh
cmp     r12,10000h
addcs   r9,r9,3h  
bcs     Lxx_3000224h
ldr     r8,=Lxx_37FFh       
cmp     r12,r8    
addcs   r9,r9,2h  
bcs     Lxx_3000224h
ldr     r8,=Lxx_27Fh
cmp     r12,r8    
addcs   r9,r9,1h  
bcs     Lxx_3000224h
cmp     r12,7Fh   
bhi     Lxx_3000224h
add     r9,r9,4h  
cmp     r12,1h    
beq     Lxx_3000238h
ldrb    r8,[r0,-r12]
strb    r8,[r0],1h
subs    r9,r9,1h  
bne     Lxx_3000224h
b       Lxx_3000024h
ldrb    r8,[r0,-r12]
strb    r8,[r0],1h
subs    r9,r9,1h  
bne     Lxx_300023Ch
b       Lxx_3000024h
cmp     r10,0h    
ldreq   r6,[r1],4h
moveq   r10,20h   
mov     r11,r8    
cmp     r11,r10   
movhi   r11,r10   
rsb     r7,r11,20h
mov     r7,r6,lsr r7
mov     r6,r6,lsl r11       
sub     r10,r10,r11 
subs    r8,r8,r11 
bxeq    r14       
ldr     r6,[r1],4h
rsb     r10,r8,20h
mov     r11,r6,lsr r10      
add     r7,r11,r7,lsl r8    
mov     r6,r6,lsl r8
bx      r14       
pop     r4-r11,r14
bx      r14  